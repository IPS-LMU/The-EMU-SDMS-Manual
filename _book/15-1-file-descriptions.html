<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="15.1 File descriptions | The EMU-SDMS Manual" />
<meta property="og:type" content="book" />
<meta property="og:url" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/" />
<meta property="og:image" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/pics/EMU-webAppIcon-roundCorners.png" />
<meta property="og:description" content="15.1 File descriptions | The EMU-SDMS Manual" />
<meta name="github-repo" content="IPS-LMU/The-EMU-SDMS-Manual" />

<meta name="author" content="Raphael Winkelmann" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="15.1 File descriptions | The EMU-SDMS Manual">

<title>15.1 File descriptions | The EMU-SDMS Manual</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link rel="stylesheet" href="style.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#welcome">Welcome</a></li>
<li class="has-sub"><a href="1-installing-the-emu-sdms.html#installing-the-emu-sdms"><span class="toc-section-number">1</span> Installing the EMU-SDMS</a><ul>
<li><a href="1-1-version-disclaimer.html#version-disclaimer"><span class="toc-section-number">1.1</span> Version disclaimer</a></li>
<li><a href="1-2-for-developers-and-people-interested-in-the-source-code.html#for-developers-and-people-interested-in-the-source-code"><span class="toc-section-number">1.2</span> For developers and people interested in the source code</a></li>
</ul></li>
<li class="part"><span><b>I Overview and tutorial</b></span></li>
<li class="has-sub"><a href="2-chap-overview.html#chap:overview"><span class="toc-section-number">2</span> An overview of the EMU-SDMS</a><ul>
<li><a href="2-1-the-evolution-of-the-emu-sdms.html#the-evolution-of-the-emu-sdms"><span class="toc-section-number">2.1</span> The evolution of the EMU-SDMS</a></li>
<li><a href="2-2-sec-overview-sysArch.html#sec:overview-sysArch"><span class="toc-section-number">2.2</span> EMU-SDMS: System architecture and default workflow</a></li>
<li><a href="2-3-emu-sdms-is-it-something-for-you.html#emu-sdms-is-it-something-for-you"><span class="toc-section-number">2.3</span> EMU-SDMS: Is it something for you?</a></li>
</ul></li>
<li class="has-sub"><a href="3-chap-tutorial.html#chap:tutorial"><span class="toc-section-number">3</span> A tutorial on how to use the EMU-SDMS</a><ul>
<li><a href="3-1-converting-the-textgrid-collection.html#converting-the-textgrid-collection"><span class="toc-section-number">3.1</span> Converting the TextGrid collection</a></li>
<li class="has-sub"><a href="3-2-loading-and-inspecting-the-database.html#loading-and-inspecting-the-database"><span class="toc-section-number">3.2</span> Loading and inspecting the database</a><ul>
<li><a href="3-2-loading-and-inspecting-the-database.html#overview"><span class="toc-section-number">3.2.1</span> Overview</a></li>
<li><a href="3-2-loading-and-inspecting-the-database.html#database-annotation-and-visual-inspection"><span class="toc-section-number">3.2.2</span> Database annotation and visual inspection</a></li>
</ul></li>
<li><a href="3-3-querying-and-autobuilding-the-annotation-structure.html#querying-and-autobuilding-the-annotation-structure"><span class="toc-section-number">3.3</span> Querying and autobuilding the annotation structure</a></li>
<li class="has-sub"><a href="3-4-autobuilding.html#autobuilding"><span class="toc-section-number">3.4</span> Autobuilding</a><ul>
<li><a href="3-4-autobuilding.html#querying-the-hierarchical-annotations"><span class="toc-section-number">3.4.1</span> Querying the hierarchical annotations</a></li>
</ul></li>
<li><a href="3-5-section-tutorial-sigExtrAndExpl.html#section:tutorial-sigExtrAndExpl"><span class="toc-section-number">3.5</span> Signal extraction and exploration</a></li>
<li><a href="3-6-vowel-height-as-a-function-of-word-types-content-vs-function-evaluation-and-statistical-analysis.html#vowel-height-as-a-function-of-word-types-content-vs.-function-evaluation-and-statistical-analysis"><span class="toc-section-number">3.6</span> Vowel height as a function of word types (content vs. function): evaluation and statistical analysis</a></li>
<li><a href="3-7-conclusion.html#conclusion"><span class="toc-section-number">3.7</span> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Main components and concepts</b></span></li>
<li class="has-sub"><a href="4-chap-annot-struct-mod.html#chap:annot-struct-mod"><span class="toc-section-number">4</span> Annotation Structure Modeling</a><ul>
<li><a href="4-1-per-database-annotation-structure-definition.html#per-database-annotation-structure-definition"><span class="toc-section-number">4.1</span> Per database annotation structure definition</a></li>
<li><a href="4-2-parallel-labels-and-multiple-attributes.html#parallel-labels-and-multiple-attributes"><span class="toc-section-number">4.2</span> Parallel labels and multiple attributes</a></li>
<li><a href="4-3-metadata-strategy-using-single-bundle-root-nodes.html#metadata-strategy-using-single-bundle-root-nodes"><span class="toc-section-number">4.3</span> Metadata strategy using single bundle root nodes</a></li>
<li><a href="4-4-conclusion-1.html#conclusion-1"><span class="toc-section-number">4.4</span> Conclusion</a></li>
</ul></li>
<li class="has-sub"><a href="5-chap-emuDB.html#chap:emuDB"><span class="toc-section-number">5</span> The <code>emuDB</code> Format</a><ul>
<li><a href="5-1-database-design.html#database-design"><span class="toc-section-number">5.1</span> Database design</a></li>
<li class="has-sub"><a href="5-2-creating-an-emudb.html#creating-an-emudb"><span class="toc-section-number">5.2</span> Creating an <code>emuDB</code></a><ul>
<li><a href="5-2-creating-an-emudb.html#creating-an-emudb-from-scratch"><span class="toc-section-number">5.2.1</span> Creating an <code>emuDB</code> from scratch</a></li>
<li><a href="5-2-creating-an-emudb.html#loading-and-editing-an-empty-database"><span class="toc-section-number">5.2.2</span> Loading and editing an empty database</a></li>
<li><a href="5-2-creating-an-emudb.html#level-definitions"><span class="toc-section-number">5.2.3</span> Level definitions</a></li>
<li><a href="5-2-creating-an-emudb.html#link-definitions"><span class="toc-section-number">5.2.4</span> Link definitions</a></li>
<li><a href="5-2-creating-an-emudb.html#file-handling"><span class="toc-section-number">5.2.5</span> File handling</a></li>
<li><a href="5-2-creating-an-emudb.html#ssff-track-definitions"><span class="toc-section-number">5.2.6</span> SSFF track definitions</a></li>
<li><a href="5-2-creating-an-emudb.html#configuring-the-emu-webapp-and-annotating-the-emudb"><span class="toc-section-number">5.2.7</span> Configuring the <code>EMU-webApp</code> and annotating the <code>emuDB</code></a></li>
</ul></li>
<li><a href="5-3-conclusion-2.html#conclusion-2"><span class="toc-section-number">5.3</span> Conclusion</a></li>
</ul></li>
<li class="has-sub"><a href="6-chap-querysys.html#chap:querysys"><span class="toc-section-number">6</span> The query system</a><ul>
<li><a href="6-1-sec-query-emuRsegs.html#sec:query-emuRsegs"><span class="toc-section-number">6.1</span> The resulting object of a query</a></li>
<li class="has-sub"><a href="6-2-eql-the-emu-query-language-version-2.html#eql-the-emu-query-language-version-2"><span class="toc-section-number">6.2</span> <code>EQL</code>: The EMU Query Language version 2</a><ul>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#simple-queries"><span class="toc-section-number">6.2.1</span> Simple queries</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#combining-simple-queries"><span class="toc-section-number">6.2.2</span> Combining simple queries</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#subsec:query-positionQueries"><span class="toc-section-number">6.2.3</span> Position queries</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#subsec:query-countQueries"><span class="toc-section-number">6.2.4</span> Count queries</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#subsec:query-moreComplexQueries"><span class="toc-section-number">6.2.5</span> More complex queries</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#subsec:query-deducingTime"><span class="toc-section-number">6.2.6</span> Deducing time</a></li>
<li><a href="6-2-eql-the-emu-query-language-version-2.html#subsec:requery"><span class="toc-section-number">6.2.7</span> Requery</a></li>
</ul></li>
<li><a href="6-3-discussion.html#discussion"><span class="toc-section-number">6.3</span> Discussion</a></li>
</ul></li>
<li class="has-sub"><a href="7-chap-sigDataExtr.html#chap:sigDataExtr"><span class="toc-section-number">7</span> Signal data extraction</a><ul>
<li><a href="7-1-extracting-pre-defined-tracks.html#extracting-pre-defined-tracks"><span class="toc-section-number">7.1</span> Extracting pre-defined tracks</a></li>
<li><a href="7-2-adding-new-tracks.html#adding-new-tracks"><span class="toc-section-number">7.2</span> Adding new tracks</a></li>
<li><a href="7-3-calculating-tracks-on-the-fly.html#calculating-tracks-on-the-fly"><span class="toc-section-number">7.3</span> Calculating tracks on-the-fly</a></li>
<li><a href="7-4-the-resulting-object-tibble.html#the-resulting-object-tibble"><span class="toc-section-number">7.4</span> The resulting object: <code>tibble</code></a></li>
<li><a href="7-5-conclusion-3.html#conclusion-3"><span class="toc-section-number">7.5</span> Conclusion</a></li>
</ul></li>
<li class="has-sub"><a href="8-chap-wrassp.html#chap:wrassp"><span class="toc-section-number">8</span> The R package <code>wrassp</code></a><ul>
<li><a href="8-1-introduction.html#introduction"><span class="toc-section-number">8.1</span> Introduction</a></li>
<li><a href="8-2-file-i0-and-the-asspdataobj.html#file-i0-and-the-asspdataobj"><span class="toc-section-number">8.2</span> File I/0 and the <code>AsspDataObj</code></a></li>
<li><a href="8-3-signal-processing.html#signal-processing"><span class="toc-section-number">8.3</span> Signal processing</a></li>
<li><a href="8-4-subsec-wrassp-wrasspOutputInfos.html#subsec:wrassp-wrasspOutputInfos"><span class="toc-section-number">8.4</span> The <code>wrasspOutputInfos</code> object</a></li>
<li class="has-sub"><a href="8-5-subsec-wrassp-formants.html#subsec:wrassp-formants"><span class="toc-section-number">8.5</span> Formants and their bandwidths</a><ul>
<li><a href="8-5-subsec-wrassp-formants.html#subsec:wrassp-f0"><span class="toc-section-number">8.5.1</span> Fundamental frequency contour</a></li>
<li><a href="8-5-subsec-wrassp-formants.html#subsec:wrassp-RMS"><span class="toc-section-number">8.5.2</span> RMS energy contour</a></li>
</ul></li>
<li><a href="8-6-sec-wrassp-logging.html#sec:wrassp-logging"><span class="toc-section-number">8.6</span> Logging <code>wrassp</code>’s function calls</a></li>
<li><a href="8-7-sec-wrassp-emu-sdms.html#sec:wrassp-emu-sdms"><span class="toc-section-number">8.7</span> Using <code>wrassp</code> in the EMU-SDMS</a></li>
<li><a href="8-8-sec-wrassp-genSSFF.html#sec:wrassp-genSSFF"><span class="toc-section-number">8.8</span> Storing data in the SSFF file format</a></li>
<li><a href="8-9-conclusion-4.html#conclusion-4"><span class="toc-section-number">8.9</span> Conclusion</a></li>
</ul></li>
<li class="has-sub"><a href="9-chap-emu-webApp.html#chap:emu-webApp"><span class="toc-section-number">9</span> The <code>EMU-webApp</code></a><ul>
<li><a href="9-1-sec-emu-webApp-mainLayout.html#sec:emu-webApp-mainLayout"><span class="toc-section-number">9.1</span> Main layout</a></li>
<li class="has-sub"><a href="9-2-sec-webApp-generalUsage.html#sec:webApp-generalUsage"><span class="toc-section-number">9.2</span> General usage</a><ul>
<li><a href="9-2-sec-webApp-generalUsage.html#annotating-levels-containing-time-information"><span class="toc-section-number">9.2.1</span> Annotating levels containing time information</a></li>
<li><a href="9-2-sec-webApp-generalUsage.html#working-with-hierarchical-annotations-2-chapemu-webapp"><span class="toc-section-number">9.2.2</span> Working with hierarchical annotations</a></li>
</ul></li>
<li class="has-sub"><a href="9-3-configuring-the-emu-webapp.html#configuring-the-emu-webapp"><span class="toc-section-number">9.3</span> Configuring the <code>EMU-webApp</code></a><ul>
<li><a href="9-3-configuring-the-emu-webapp.html#subsec:emu-webAppConfigWithEmuR"><span class="toc-section-number">9.3.1</span> Basic configurations using <code>emuR</code></a></li>
<li><a href="9-3-configuring-the-emu-webapp.html#signal-canvas-and-level-canvas-order"><span class="toc-section-number">9.3.2</span> Signal canvas and level canvas order</a></li>
<li><a href="9-3-configuring-the-emu-webapp.html#subsec:emu-webAppAdvancedConfig"><span class="toc-section-number">9.3.3</span> Advanced configurations made by editing the <code>_DBconfig.json</code></a></li>
<li><a href="9-3-configuring-the-emu-webapp.html#d-canvas"><span class="toc-section-number">9.3.4</span> 2D canvas</a></li>
</ul></li>
<li><a href="9-4-conclusion-5.html#conclusion-5"><span class="toc-section-number">9.4</span> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>III Main <code>emuR</code> function and object index</b></span></li>
<li class="has-sub"><a href="10-chap-emuRpackageDetails.html#chap:emuRpackageDetails"><span class="toc-section-number">10</span> <code>emuR</code> - package functions</a><ul>
<li class="has-sub"><a href="10-1-sec-emuRpackageDetails-importRoutines.html#sec:emuRpackageDetails-importRoutines"><span class="toc-section-number">10.1</span> Import and conversion routines</a><ul>
<li><a href="10-1-sec-emuRpackageDetails-importRoutines.html#legacy-emu-databases"><span class="toc-section-number">10.1.1</span> Legacy EMU databases</a></li>
<li><a href="10-1-sec-emuRpackageDetails-importRoutines.html#textgrid-collections"><span class="toc-section-number">10.1.2</span> TextGrid collections</a></li>
<li><a href="10-1-sec-emuRpackageDetails-importRoutines.html#bpf-collections"><span class="toc-section-number">10.1.3</span> BPF collections</a></li>
<li><a href="10-1-sec-emuRpackageDetails-importRoutines.html#txt-collections"><span class="toc-section-number">10.1.4</span> txt collections</a></li>
</ul></li>
<li><a href="10-2-sec-emuRpackageDetails-emuDBinteract.html#sec:emuRpackageDetails-emuDBinteract"><span class="toc-section-number">10.2</span> <code>emuDB</code> interaction and configuration routines</a></li>
<li><a href="10-3-sec-emuRpackageDetails-emuWebAppConfig.html#sec:emuRpackageDetails-emuWebAppConfig"><span class="toc-section-number">10.3</span> <code>EMU-webApp</code> configuration routines</a></li>
<li><a href="10-4-sec-emuRpackageDetails-dataExtr.html#sec:emuRpackageDetails-dataExtr"><span class="toc-section-number">10.4</span> Data extraction routines</a></li>
<li><a href="10-5-sec-emuRpackageDetails-centralObjects.html#sec:emuRpackageDetails-centralObjects"><span class="toc-section-number">10.5</span> Central objects</a></li>
<li><a href="10-6-sec-emuRpackageDetails-exportRoutines.html#sec:emuRpackageDetails-exportRoutines"><span class="toc-section-number">10.6</span> Export routines</a></li>
<li><a href="10-7-conclusion-6.html#conclusion-6"><span class="toc-section-number">10.7</span> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>IV Implementation</b></span></li>
<li class="has-sub"><a href="11-chap-querysys-impl.html#chap:querysys-impl"><span class="toc-section-number">11</span> Implementation of the query system</a><ul>
<li><a href="11-1-sec-query-queryExpressionParser.html#sec:query-queryExpressionParser"><span class="toc-section-number">11.1</span> Query expression parser</a></li>
<li><a href="11-2-subsec-query-redundantLinks.html#subsec:query-redundantLinks"><span class="toc-section-number">11.2</span> Redundant links</a></li>
</ul></li>
<li class="has-sub"><a href="12-chap-wrassp-impl.html#chap:wrassp_impl"><span class="toc-section-number">12</span> <code>wrassp</code> implementation</a><ul>
<li><a href="12-1-the-libassp-port.html#the-libassp-port"><span class="toc-section-number">12.1</span> The <code>libassp</code> port</a></li>
</ul></li>
<li class="has-sub"><a href="13-chap-emu-webAppImplementation.html#chap:emu-webAppImplementation"><span class="toc-section-number">13</span> <code>EMU-webApp</code> implementation</a><ul>
<li><a href="13-1-subsec-emu-webAppTheProtocol.html#subsec:emu-webAppTheProtocol"><span class="toc-section-number">13.1</span> Communication protocol</a></li>
<li class="has-sub"><a href="13-2-url-parameters.html#url-parameters"><span class="toc-section-number">13.2</span> URL parameters</a><ul>
<li><a href="13-2-url-parameters.html#websocket-server-parameters"><span class="toc-section-number">13.2.1</span> Websocket server parameters</a></li>
<li><a href="13-2-url-parameters.html#examples"><span class="toc-section-number">13.2.2</span> Examples</a></li>
<li><a href="13-2-url-parameters.html#label-file-preview-parameters"><span class="toc-section-number">13.2.3</span> Label file preview parameters</a></li>
<li><a href="13-2-url-parameters.html#examples-1"><span class="toc-section-number">13.2.4</span> Examples</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Appendices</b></span></li>
<li class="has-sub"><a href="14-app-chap-useCases.html#app-chap:useCases"><span class="toc-section-number">14</span> Use cases</a><ul>
<li><a href="14-1-sec-app-chap-useCases-q1.html#sec:app-chap-useCases-q1"><span class="toc-section-number">14.1</span> What is the average length of all <em>n</em> phonetic segments in the <em>ae</em> <code>emuDB</code>?</a></li>
<li><a href="14-2-sec-app-chap-useCases-q2.html#sec:app-chap-useCases-q2"><span class="toc-section-number">14.2</span> What does the F1 and F2 distribution of all phonetic segments that contain the labels <em>I</em>, <em>o:</em>, <em>u:</em>, <em>V</em> or <em>@</em> look like?</a></li>
<li><a href="14-3-sec-app-chap-useCases-q3.html#sec:app-chap-useCases-q3"><span class="toc-section-number">14.3</span> What words do the phonetic segments that carry the labels <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> occur in and what is their phonetic context?</a></li>
<li class="has-sub"><a href="14-4-sec-app-chap-useCases-q4.html#sec:app-chap-useCases-q4"><span class="toc-section-number">14.4</span> Do the phonetic segments labeled <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> differ with respect to their first spectral moment?\footnote{The original version of this use case was written by Florian Schiel as part of the <code>emuR_intro</code> vignette that is part of the <code>emuR</code> package.</a><ul>
<li><a href="14-4-sec-app-chap-useCases-q4.html#note-see-refrecipespectralanalysis-for-more-up-to-date-methods-of-performing-spectral-analysis"><span class="toc-section-number">14.4.1</span> NOTE: See @ref(recipe:spectralAnalysis) for more up to date methods of performing spectral analysis</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="15-app-chap-fileFormats.html#app-chap:fileFormats"><span class="toc-section-number">15</span> File Formats</a><ul>
<li class="has-sub"><a href="15-1-file-descriptions.html#file-descriptions"><span class="toc-section-number">15.1</span> File descriptions</a><ul>
<li><a href="15-1-file-descriptions.html#subsec:app-chapFileFormatsDBconfig"><span class="toc-section-number">15.1.1</span> <code>_DBconfig.json</code></a></li>
<li><a href="15-1-file-descriptions.html#subsec:app-chapFileFormatsAnnotJSON"><span class="toc-section-number">15.1.2</span> <code>_annot.json</code></a></li>
<li><a href="15-1-file-descriptions.html#subsec:app-chapFileFormatsSSFF"><span class="toc-section-number">15.1.3</span> The SSFF file format</a></li>
</ul></li>
<li class="has-sub"><a href="15-2-example-files.html#example-files"><span class="toc-section-number">15.2</span> Example files</a><ul>
<li><a href="15-2-example-files.html#subsec:app-chapExampleFilesBundleList"><span class="toc-section-number">15.2.1</span> <code>_bundleList.json</code></a></li>
<li><a href="15-2-example-files.html#subsec:app-chapExampleFilesBndlJSON"><span class="toc-section-number">15.2.2</span> <code>_bndl.json</code></a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="16-app-chap-wsProtocol.html#app-chap:wsProtocol"><span class="toc-section-number">16</span> The <code>EMU-webApp-websocket-protocol</code> Version 2.0</a><ul>
<li><a href="16-1-protocol-overview.html#protocol-overview"><span class="toc-section-number">16.1</span> Protocol overview</a></li>
<li class="has-sub"><a href="16-2-protocol-commands.html#protocol-commands"><span class="toc-section-number">16.2</span> Protocol commands</a><ul>
<li><a href="16-2-protocol-commands.html#getprotocol"><span class="toc-section-number">16.2.1</span> <code>GETPROTOCOL</code></a></li>
<li><a href="16-2-protocol-commands.html#getdousermanagement"><span class="toc-section-number">16.2.2</span> <code>GETDOUSERMANAGEMENT</code></a></li>
<li><a href="16-2-protocol-commands.html#logonuser"><span class="toc-section-number">16.2.3</span> <code>LOGONUSER</code></a></li>
<li><a href="16-2-protocol-commands.html#getglobaldbconfig"><span class="toc-section-number">16.2.4</span> <code>GETGLOBALDBCONFIG</code></a></li>
<li><a href="16-2-protocol-commands.html#getbundlelist"><span class="toc-section-number">16.2.5</span> <code>GETBUNDLELIST</code></a></li>
<li><a href="16-2-protocol-commands.html#getbundle"><span class="toc-section-number">16.2.6</span> <code>GETBUNDLE</code></a></li>
<li><a href="16-2-protocol-commands.html#savebundle"><span class="toc-section-number">16.2.7</span> <code>SAVEBUNDLE</code></a></li>
<li><a href="16-2-protocol-commands.html#disconnectwarning"><span class="toc-section-number">16.2.8</span> <code>DISCONNECTWARNING</code></a></li>
<li><a href="16-2-protocol-commands.html#error-handling"><span class="toc-section-number">16.2.9</span> Error handling</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="17-app-chap-EQL-EBNF.html#app-chap:EQL-EBNF"><span class="toc-section-number">17</span> EQL EBNF</a><ul>
<li><a href="17-1-terminal-symbols-of-eql2-operators-and-their-meaning.html#terminal-symbols-of-eql2-operators-and-their-meaning"><span class="toc-section-number">17.1</span> Terminal symbols of EQL2 (operators) and their meaning</a></li>
<li><a href="17-2-terminal-symbols-of-eql2-brackets-and-their-meanings-.html#terminal-symbols-of-eql2-brackets-and-their-meanings."><span class="toc-section-number">17.2</span> Terminal symbols of EQL2 (brackets) and their meanings.</a></li>
<li><a href="17-3-terminal-symbols-of-eql2-functions-and-their-meanings-.html#terminal-symbols-of-eql2-functions-and-their-meanings."><span class="toc-section-number">17.3</span> Terminal symbols of EQL2 (functions) and their meanings.</a></li>
<li><a href="17-4-formal-description-of-emu-query-language-version-2.html#formal-description-of-emu-query-language-version-2"><span class="toc-section-number">17.4</span> Formal description of EMU Query Language Version 2</a></li>
<li><a href="17-5-restrictions.html#restrictions"><span class="toc-section-number">17.5</span> Restrictions</a></li>
</ul></li>
<li class="has-sub"><a href="18-app-chap-eql.html#app-chap:eql"><span class="toc-section-number">18</span> EQL: further examples</a><ul>
<li><a href="18-1-simple-equality-inequality-matching-non-matching-queries-single-argument.html#simple-equality-inequality-matching-non-matching-queries-single-argument"><span class="toc-section-number">18.1</span> Simple equality, inequality, matching and non-matching queries (single-argument)</a></li>
<li><a href="18-2-sequence-queries-using-the-sequence-operator.html#sequence-queries-using-the---sequence-operator"><span class="toc-section-number">18.2</span> Sequence queries using the -&gt; sequence operator</a></li>
<li><a href="18-3-subsequent-sequence-queries-using-nesting-of-the-sequence-operator.html#subsequent-sequence-queries-using-nesting-of-the---sequence-operator"><span class="toc-section-number">18.3</span> Subsequent sequence queries using nesting of the <code>-&gt;</code> sequence operator</a></li>
<li><a href="18-4-conjunction-operator.html#conjunction-operator"><span class="toc-section-number">18.4</span> Conjunction operator &amp;</a></li>
<li class="has-sub"><a href="18-5-domination-operator-hierarchical-queries.html#domination-operator-hierarchical-queries"><span class="toc-section-number">18.5</span> Domination operator ^ (hierarchical queries)</a><ul>
<li><a href="18-5-domination-operator-hierarchical-queries.html#simple-domination"><span class="toc-section-number">18.5.1</span> Simple domination</a></li>
<li><a href="18-5-domination-operator-hierarchical-queries.html#multiple-domination"><span class="toc-section-number">18.5.2</span> Multiple domination</a></li>
</ul></li>
<li class="has-sub"><a href="18-6-position.html#position"><span class="toc-section-number">18.6</span> Position</a><ul>
<li><a href="18-6-position.html#simple-usage-of-start-end-and-medial"><span class="toc-section-number">18.6.1</span> Simple usage of <code>Start()</code>, <code>End()</code> and <code>Medial()</code></a></li>
<li><a href="18-6-position.html#position-and-boolean"><span class="toc-section-number">18.6.2</span> Position and boolean &amp;</a></li>
<li><a href="18-6-position.html#position-and-boolean-1"><span class="toc-section-number">18.6.3</span> Position and boolean ^</a></li>
<li><a href="18-6-position.html#count-and-boolean"><span class="toc-section-number">18.6.4</span> Count and boolean <code>&amp;</code></a></li>
<li><a href="18-6-position.html#count-and"><span class="toc-section-number">18.6.5</span> Count and ^</a></li>
</ul></li>
<li class="has-sub"><a href="18-7-combinations.html#combinations"><span class="toc-section-number">18.7</span> Combinations</a><ul>
<li><a href="18-7-combinations.html#and---domination-and-sequence"><span class="toc-section-number">18.7.1</span> ^ and -&gt; (domination and sequence)</a></li>
<li><a href="18-7-combinations.html#and---and-domination-and-sequence-and-boolean"><span class="toc-section-number">18.7.2</span> ^ and -&gt; and &amp; (domination and sequence and boolean &amp;)</a></li>
</ul></li>
<li><a href="18-8-a-few-more-questions-and-answers.html#a-few-more-questions-and-answers"><span class="toc-section-number">18.8</span> A few more questions and answers</a></li>
<li class="has-sub"><a href="18-9-differences-to-the-legacy-emu-query-language.html#differences-to-the-legacy-emu-query-language"><span class="toc-section-number">18.9</span> Differences to the legacy EMU query language</a><ul>
<li><a href="18-9-differences-to-the-legacy-emu-query-language.html#function-call-syntax"><span class="toc-section-number">18.9.1</span> Function call syntax</a></li>
<li><a href="18-9-differences-to-the-legacy-emu-query-language.html#empty-result"><span class="toc-section-number">18.9.2</span> Empty result</a></li>
<li><a href="18-9-differences-to-the-legacy-emu-query-language.html#the-result-modifier-hash-tag"><span class="toc-section-number">18.9.3</span> The result modifier hash tag <code>#</code></a></li>
<li><a href="18-9-differences-to-the-legacy-emu-query-language.html#interpretation-of-the-hash-tag-in-conjunction-operator-queries"><span class="toc-section-number">18.9.4</span> Interpretation of the hash tag <code>#</code> in conjunction operator queries</a></li>
<li><a href="18-9-differences-to-the-legacy-emu-query-language.html#legacy-emu"><span class="toc-section-number">18.9.5</span> legacy EMU</a></li>
</ul></li>
<li class="has-sub"><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#bugs-in-legacy-emu-function-emu.query"><span class="toc-section-number">18.10</span> Bugs in legacy EMU function <code>emu.query()</code></a><ul>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#alternative-labels-in-inequality-queries"><span class="toc-section-number">18.10.1</span> Alternative labels in inequality queries</a></li>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#legacy-emu-1"><span class="toc-section-number">18.10.2</span> legacy EMU</a></li>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#emur-1"><span class="toc-section-number">18.10.3</span> emuR</a></li>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#errors-caused-by-missing-or-superfluous-blanks-or-parentheses"><span class="toc-section-number">18.10.4</span> Errors caused by missing or superfluous blanks or parentheses</a></li>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#order-of-result-segment-list"><span class="toc-section-number">18.10.5</span> Order of result segment list</a></li>
<li><a href="18-10-bugs-in-legacy-emu-function-emu-query.html#additional-features"><span class="toc-section-number">18.10.6</span> Additional features</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="19-app-chap-wrassp.html#app-chap:wrassp"><span class="toc-section-number">19</span> <code>wrassp</code></a><ul>
<li class="has-sub"><a href="19-1-sec-app-chap-wrassp-praatsSigProc.html#sec:app-chap-wrassp-praatsSigProc"><span class="toc-section-number">19.1</span> Using Praat’s signal processing routines in the EMU-SDMS</a><ul>
<li><a href="19-1-sec-app-chap-wrassp-praatsSigProc.html#to-formant-burg...-to-ssff-files"><span class="toc-section-number">19.1.1</span> <code>To Formant (burg)...</code> to SSFF files</a></li>
<li><a href="19-1-sec-app-chap-wrassp-praatsSigProc.html#to-pitch...-to-ssff-files"><span class="toc-section-number">19.1.2</span> <code>To Pitch...</code> to SSFF files</a></li>
</ul></li>
<li><a href="19-2-sec-app-chap-wrassp-opensmileSigProc.html#sec:app-chap-wrassp-opensmileSigProc"><span class="toc-section-number">19.2</span> Using OpenSMILE signal processing routines in the EMU-SDMS</a></li>
</ul></li>
<li class="part"><span><b>VI Recipes</b></span></li>
<li><a href="20-about.html#about"><span class="toc-section-number">20</span> About</a></li>
<li class="has-sub"><a href="21-recipe-spectralAnalysis.html#recipe:spectralAnalysis"><span class="toc-section-number">21</span> Spectral analysis</a><ul>
<li><a href="21-1-how-to-quantify-differences-between-spectra.html#how-to-quantify-differences-between-spectra"><span class="toc-section-number">21.1</span> How to quantify differences between spectra?</a></li>
<li><a href="21-2-discrete-cosine-transform-dct.html#discrete-cosine-transform-dct"><span class="toc-section-number">21.2</span> Discrete Cosine Transform (DCT)</a></li>
<li class="has-sub"><a href="21-3-dct-coefficients.html#dct-coefficients"><span class="toc-section-number">21.3</span> DCT coefficients</a><ul>
<li><a href="21-3-dct-coefficients.html#p.s.-use-dct-in-order-to-smooth-formant-trajectories"><span class="toc-section-number">21.3.1</span> P.S.: Use DCT in order to smooth formant trajectories</a></li>
</ul></li>
<li><a href="21-4-spectral-moments.html#spectral-moments"><span class="toc-section-number">21.4</span> Spectral moments</a></li>
</ul></li>
<li class="has-sub"><a href="22-recipe-plottingSnippets.html#recipe:plottingSnippets"><span class="toc-section-number">22</span> Plotting snippets</a><ul>
<li><a href="22-1-formant-trajectory-plots-equivalent-to-the-legacy-dplot-normalise-tf-average-tf-.html#formant-trajectory-plots-equivalent-to-the-legacy-dplot...-normalise-tf-average-tf..."><span class="toc-section-number">22.1</span> Formant trajectory plots (equivalent to the legacy <code>dplot(..., normalise = T/F, average = T/F,...)</code>)</a></li>
<li><a href="22-2-f1f2-plots-equivalent-to-the-legacy-eplot-dopoints-tf-doellipse-tf-centroid-tf-.html#f1f2-plots-equivalent-to-the-legacy-eplot...-dopoints-tf-doellipse-tf-centroid-tf-..."><span class="toc-section-number">22.2</span> F1/F2 plots (equivalent to the legacy <code>eplot(..., dopoints = T/F, doellipse = T/F, centroid = T/F, ...)</code>)</a></li>
<li><a href="22-3-f1f2-plot-separated-by-speaker.html#f1f2-plot-separated-by-speaker"><span class="toc-section-number">22.3</span> F1/F2 plot separated by speaker</a></li>
</ul></li>
<li class="has-sub"><a href="23-version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab"><span class="toc-section-number">23</span> Version control of emuDBs including collaborative annotation with Git and GitLab</a><ul>
<li class="has-sub"><a href="23-1-setup.html#setup"><span class="toc-section-number">23.1</span> Setup</a><ul>
<li><a href="23-1-setup.html#using-gitlab-to-host-the-emudb"><span class="toc-section-number">23.1.1</span> Using GitLab to host the emuDB</a></li>
</ul></li>
<li class="has-sub"><a href="23-2-collaborating-with-others.html#collaborating-with-others"><span class="toc-section-number">23.2</span> Collaborating with others</a><ul>
<li><a href="23-2-collaborating-with-others.html#default-work-flow"><span class="toc-section-number">23.2.1</span> Default work-flow</a></li>
<li><a href="23-2-collaborating-with-others.html#assigning-bundles-to-annotators"><span class="toc-section-number">23.2.2</span> Assigning bundles to annotators</a></li>
<li><a href="23-2-collaborating-with-others.html#pointing-the-emu-webapp-to-the-gitlab-repository"><span class="toc-section-number">23.2.3</span> Pointing the EMU-webApp to the GitLab repository</a></li>
<li><a href="23-2-collaborating-with-others.html#what-about-my-r-scripts-other-files"><span class="toc-section-number">23.2.4</span> What about my R scripts / other files?</a></li>
</ul></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="file-descriptions" class="section level2">
<h2><span class="header-section-number">15.1</span> File descriptions</h2>
<div id="subsec:app-chapFileFormatsDBconfig" class="section level3">
<h3><span class="header-section-number">15.1.1</span> <code>_DBconfig.json</code></h3>
<p>The <code>_DBconfig.json</code> file contains the configuration options of the database. People familiar with the legacy EMU system will recognize this as the replacement file for the legacy template (<code>.tpl</code>) file. By convention, variables or strings written entirely in capital letters indicate a constant variable that usually has a special meaning. This is also the case with strings like this found in the <code>_DBconfig.json</code> (<code>"STRING"</code>, <code>"ITEM"</code> ,<code>"SEGMENT"</code>, <code>"EVENT"</code>, <code>"OSCI"</code>, … ).</p>
<p>The <code>_DBconfig.json</code> file contains the following fields:</p>
<ul>
<li><p><code>"name"</code> specifies the name of the database</p></li>
<li><p><code>"UUID"</code> a unique ID given to each database</p></li>
<li><p><code>"mediafileExtension"</code> the main mediafileExtension (currently only uncompressed <code>.wav</code> files are supported in every component of the EMU system. This is also the recommended audio format for the <span acronym-label="emu-sdms" acronym-form="singular+short">emu-sdms</span>.)</p></li>
<li><p><code>"ssffTrackDefinitions"</code> an array of definitions defining the SSFF tracks of the database. Each <code>ssffTrackDefinition</code> consists of:</p>
<ul>
<li><p><code>"name"</code> the name of the <code>ssffTrackDefinition</code></p></li>
<li><p><code>"columnName"</code> the name of the column of the matching SSFF file. For more information on the columns the various functions of the <code>wrassp</code> produce, see the track fields of the <code>wrasspOutputInfos</code> object that is part of the <code>wrassp</code> package. Further, although the SSFF is a binary file format, it has a plain text header. This means that if you open a SSFF file in the text editor of your choice, you will be able to see the columns contained within it. Another way of accessing column information about a specific SSFF file is to use the <code>wrassp</code> function <code>res = read.AsspDataObj(/path/2/SSFF/file)</code> to read the file from the file system. <code>names(res)</code> will then give you the names of the columns present in this file. In the context of the SSFF, we use the term “column”, while in the context of the EMU system we use either “track” or “SSFF track”. Both refer to the same data.</p></li>
<li><p><code>"fileExtention"</code> the file extension of the matching SSFF file. See also <code>?wrasspOutputInfos</code> for the default extensions produced by the <code>wrassp</code> functions.</p></li>
</ul></li>
<li><p><code>"levelDefinitions"</code> array of definitions defining the levels of the database. Each <code>"levelDefinitions"</code> consists of:</p>
<ul>
<li><p><code>"name"</code> The name of the <code>levelDefinition</code>.</p></li>
<li><p><code>"type"</code> Specifies the type of level (either <code>"ITEM"</code> | <code>"EVENT"</code> | <code>"SEGMENT"</code>).</p></li>
<li><p><code>"attributeDefinitions"</code> an array of definitions defining the
attributes of the level. Each <code>attributeDefinition</code> consists of:</p>
<ul>
<li><p><code>"name"</code> The name of the <code>"attributeDefinition"</code>.</p></li>
<li><p><code>"type"</code> Specifies the type of the attribute (currently only
<code>"STRING"</code> permitted)</p></li>
<li><p><code>"labelGroups"</code> An (optional) array containing label group
definitions. These can be used as a shorthand notation for
querying certain groups of labels and comprise the
following:</p>
<ul>
<li><p><code>"name"</code> The name of the label group. This will be the
value used in a query to refer to this group.</p></li>
<li><p><code>"values"</code> An array of strings representing the labels.</p></li>
</ul></li>
<li><p><code>"legalLabels"</code> An (optional) array of strings specifying
which labels are valid or legal for this attribute
definition.</p></li>
</ul></li>
<li><p><code>"anagestConfig"</code> If specified (optional), this will convert the
level into a special type of level for labeling articulatory
data. This will also serve as a marker for the EMU-webApp to
treat this level differently. This optional field may only be
set for levels of the type <code>"EVENT"</code>.</p>
<ul>
<li><p><code>"verticalPosSsffTrackName"</code> The name of the
SSFF
track containing the vertical position data.</p></li>
<li><p><code>"velocitySsffTrackName"</code> The name of the
SSFF
track containing the velocity data.</p></li>
<li><p><code>"autoLinkLevelName"</code> The name of the level to which created
events will be linked.</p></li>
<li><p><code>"multiplicationFactor"</code> The factor to multiply with (either
<code>-1</code> <code>1</code>).</p></li>
<li><p><code>"threshold"</code> A value between 0 and 1 defining the absolute
threshold.</p></li>
<li><p><code>"gestureOnOffsetLabels"</code> An array containing two strings
that specify the on- and offset labels.</p></li>
<li><p><code>"maxVelocityOnOffsetLabels"</code> An array containing two
strings that specify the on- and offset labels.</p></li>
<li><p><code>"constrictionPlateauBeginEndLabels"</code> An array containing
two strings that specify the begin- and end labels.</p></li>
<li><p><code>"maxConstrictionLabel"</code> A string specifying the maximum
constriction label.</p></li>
</ul></li>
</ul></li>
<li><p><code>"linkDefinitions"</code> An array of the definitions defining the links
between levels of the database. The combination of all link
definitions specifies the hierarchy of the database. Each
<code>linkDefinition</code> consists of:</p>
<ul>
<li><p><code>"type"</code> Specifies the type of link (either <code>"ONE_TO_MANY"</code>
<code>"MANY_TO_MANY"</code> <code>"ONE_TO_ONE"</code>).</p></li>
<li><p><code>"superlevelName"</code> Specifies the name of the super-level.</p></li>
<li><p><code>"sublevelName"</code> Specifies the name of the sub-level.</p></li>
</ul></li>
<li><p><code>"labelGroups"</code> An (optional) array containing label group
definitions. These can be used as a shorthand notation for querying
certain groups of labels. Compared to the <code>"labelGroups"</code>, which can
be defined within an <code>attributeDefinition</code>, the <code>labelGroups</code>
defined here are globally defined for the entire database as
follows:</p>
<ul>
<li><p><code>"name"</code> The name of the label group.</p></li>
<li><p><code>"values"</code> An array of strings containing labels.</p></li>
</ul></li>
<li><p><code>"EMUwebAppConfig"</code> Specifies the configuration options intended for
the<br />
<code>EMU-webApp</code> (i.e., how the database is to be displayed). This field
can contain all the configurations options that are specified in the
EMU-webApp’s configuration schema (see
<a href="https://github.com/IPS-LMU/EMU-webApp/tree/master/dist/schemaFiles" class="uri">https://github.com/IPS-LMU/EMU-webApp/tree/master/dist/schemaFiles</a>).
The <code>"EMUwebAppConfig"</code> contains the following fields:</p>
<ul>
<li><p><code>"main"</code> Main behavior options:</p>
<ul>
<li><p><code>"autoConnect"</code>: Auto connect to the <code>"serverUrl"</code> on the
initial load of the webApp to automatically load a database
(mainly used for development).</p></li>
<li><p><code>"serverUrl"</code>: The default server URL that is displayed in
the connect modal window (and used if <code>"autoConnect"</code> is set
to <code>true</code>). The default: <code>"ws://localhost:17890"</code> points to
the server started by the <code>serve()</code> function of the <code>emuR</code>
package.</p></li>
<li><p><code>"serverTimeoutInterval"</code>: The maximum amount of time the
<code>EMU-webApp</code> waits (in milliseconds) for the server to
respond.</p></li>
<li><p><code>"comMode"</code>: Specifies the communication mode the
<code>EMU-webApp</code> is in. Currently the only option that is
available is <code>"WS"</code> (websocket).</p></li>
<li><p><code>"catchMouseForKeyBinding"</code>: Check if mouse has to be in
labeler for key bindings to work.</p></li>
</ul></li>
<li><p><code>"keyMappings"</code> Keyboard shortcut definitions. For the sake of
brevity, not every key-code is shown (see schema:
<a href="https://github.com/IPS-LMU/EMU-webApp/blob/master/dist/schemaFiles/emuwebappConfigSchema.json" class="uri">https://github.com/IPS-LMU/EMU-webApp/blob/master/dist/schemaFiles/emuwebappConfigSchema.json</a>
for extensive list).</p>
<ul>
<li><p><code>"toggleSideBarLeft"</code> integer value that represents the
key-code that toggles the left side bar (== bundleList side
bar)</p></li>
<li><p><code>"toggleSideBarRight"</code> integer value that represents the
key-code that toggles the right side bar (== perspective
side bar)</p></li>
<li><p>…</p></li>
</ul></li>
<li><p><code>"spectrogramSettings"</code> Specifies the default settings of the
spectrogram. The possible settings are:</p>
<ul>
<li><p><code>"windowSizeInSecs"</code> Specifies the window size in seconds.</p></li>
<li><p><code>"rangeFrom"</code> Specifies the lowest frequency (in Hz) that
will be displayed by the spectrogram.</p></li>
<li><p><code>"rangeTo"</code> Specifies the highest frequency (in Hz) that
will be displayed by the spectrogram.</p></li>
<li><p><code>"dynamicRange"</code> Specifies the dynamic rang for maximum
decibel dynamic range.</p></li>
<li><p><code>"window"</code> Specifies the window type (<code>"BARTLETT"</code>
<code>"BARTLETTHANN"</code> <code>"BLACKMAN"</code> <code>"COSINE"</code> <code>"GAUSS"</code>
<code>"HAMMING"</code> <code>"HANN"</code> <code>"LANCZOS"</code> <code>"RECTANGULAR"</code>
<code>"TRIANGULAR"</code>).</p></li>
<li><p><code>"preEmphasisFilterFactor"</code> Specifies the preemphasis factor
(in formula: s’(k) = s(k) - preEmphasisFilterFactor *
s(k-1) ).</p></li>
<li><p><code>"transparency"</code> Specifies the transparency of the
spectrogram (integer from 0 to 255).</p></li>
<li><p><code>"drawHeatMapColors"</code> (optional) Defines whether the
spectrogram should be drawn using heat-map colors (either
true or false)</p></li>
<li><p><code>"heatMapColorAnchors"</code> (optional) Specifies the heat-map color anchors (array of the form <code>[[255, 0, 0], [0, 255, 0], [0, 0, 255]]</code>)</p></li>
</ul></li>
<li><p><code>"perspectives"</code> An array containing perspective configurations.
Each <code>"perspective"</code> consists of:</p>
<ul>
<li><p><code>"name"</code> Name of the perspective.</p></li>
<li><p><code>"signalCanvases"</code> Configuration options for the
<code>signalCanvases</code>.</p>
<ul>
<li><p><code>"order"</code> An array specifying the order in which the
<span acronym-label="ssff" acronym-form="singular+short">ssff</span> tracks are to be
displayed. Note that the <span acronym-label="ssff" acronym-form="singular+short">ssff</span> track names “OSCI” and
“SPEC” are always available in addition to the
<span acronym-label="ssff" acronym-form="singular+short">ssff</span> track defined in the
database.</p></li>
<li><p><code>"assign"</code> An array of configuration options that assign
one <span acronym-label="ssff" acronym-form="singular+short">ssff</span> track to another,
effectively creating a visual overlay of one track over
another. Each array element consists of:</p></li>
<li><p><code>"signalCanvasName"</code> The name of the signal specified in the <code>"order"</code> array. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"ssffTrackName"</code> The name of the SSFF track to overlay onto <code>"signalCanvasName"</code>. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"minMaxValLims"</code> An array of configuration options to limit the y-axis range that is displayed for a specified SSFF track.</p></li>
<li><p><code>"ssffTrackName"</code>: A name specifying which ssffTrack should be limited. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"minVal"</code>: The minimum value which defines the lower y-axis limit. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"horizontalLines"</code>: Add horizontal lines to ssffTrack</p></li>
<li><p><code>"ssffTrackName"</code>: The name of the SSFF track to draw horizontal lines on. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"yValues"</code>: array of number specifying the y values of the horizontal lines (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"contourLims"</code> An array containing contour limit values
that specify an index range that is to be displayed. As
a track or column can contain multi-dimensional data
(e.g. four formant values per time stamp, 256 DFT values
per time stamp, etc.) it is possible to specify an index
range that specifies which values should be displayed
(e.g., display formant 2 through 4).</p></li>
<li><p><code>"ssffTrackName"</code> A name specifying which ssffTrack should be limited. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"minContourIdx"</code> The minimum contour index to display (starts at index 0). (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"maxContourIdx"</code> The maximum contour index to display. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"contourColors"</code> An array to specify colors of
individual contours. This overrides the default of
automatically calculating distinct colors for each
contour.</p></li>
<li><p><code>"ssffTrackName"</code> The name of the <code>ssffTrackName</code> for which colors are defined. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"colors"</code> An array of RGB strings (e.g. <code>["rgb(238,130,238)"</code>, <code>"rgb(127,255,212)"]</code>) that specify the color of the contour (first value = first contour color and so on). (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
</ul></li>
<li><p><code>"levelCanvases"</code> Configuration options for the
<code>levelCanvases</code>:</p>
<ul>
<li><code>"order"</code> An array specifying the order in which the levels are to be displayed. Note that only levels of the type <code>EVENT</code> or <code>SEGMENT</code> can be displayed as <code>levelCanvases</code>. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</li>
</ul></li>
<li><p><code>"twoDimCanvases"</code> Configuration options for the 2D canvas.</p>
<ul>
<li><p><code>"order"</code> An array specifying the order in which the
levels are to be displayed. Note that currently only a
single<br />
<code>twoDimDrawingDefinition</code> can be displayed so this array
can currently only contain a single element.</p></li>
<li><p><code>"twoDimDrawingDefinitions"</code> An array containing two
dimensional drawing definitions. Each two dimensional
drawing definition consists of:</p></li>
<li><p><code>"dots"</code> An array containing dot definitions. Each dot definition consist of: (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"name"</code> The name of the dot.(NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xSsffTrack"</code> The <code>ssffTrackName</code> of the track that contains the x axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xContourNr"</code> The contour number of the track that contains the x-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"ySsffTrack"</code> The <code>ssffTrackName</code> of the track that contains the y-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"yContourNr"</code> The contour number of the track that contains the y-axis values.(NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"color"</code> The RGB color string specifying the color given to dot. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"connectLines"</code> An array specifying which of the dots specified in the <code>"dots"</code> definition array should be connected by a line. (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"fromDot"</code> The dot from which the line should start. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"toDot"</code> The dot at which the line should end. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"color"</code> The RGB string defining the color of the line. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"staticDots"</code> An array containing static dot definitions:(NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"name"</code> The name of the static dots. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xNameCoordinate"</code> An x-coordinate specifying the location at which name should be drawn. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"yNameCoordinate"</code> y-coordinate specifying the location at which name should be drawn. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xCoordinates"</code> An array of x-coordinates (e.g. <code>[300, 300, 900, 900, 300]</code>). (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"yCoordinates"</code> An array of y-coordinates (e.g. <code>[880, 2540, 2540, 880, 880]</code>). (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"connect"</code> A boolean value that specifies whether or not to connect the static dots with lines. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"color"</code> An RGB string specifying the color of static dots. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"staticContours"</code> An array containing static contour definitions: (NOTE: indentation level reduced by 1 to avoid max indentation problems)</p></li>
<li><p><code>"name"</code> The name of static contour. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xSsffTrack"</code> The <code>ssffTrackName</code> of the track that contains the x-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"xContourNr"</code> The contour number of the track that contains the x-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"ySsffTrack"</code> The <code>ssffTrackName</code> of the track that contains the y-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"yContourNr"</code> The contour number of the track that contains the y-axis values. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"connect"</code> A boolean value that specifies whether or not to connect the static dots with lines. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
<li><p><code>"color"</code> An RGB string specifying color of the static contour. (NOTE: indentation level reduced by 2 to avoid max indentation problems)</p></li>
</ul></li>
</ul></li>
<li><p><code>"labelCanvasConfig"</code> Configuration options for the label
canvases:</p>
<ul>
<li><p><code>"addTimeMode"</code> The mode in which time to boundaries is
added and subtracted (<code>"absolute"</code> or <code>"relative"</code>).</p></li>
<li><p><code>"addTimeValue"</code>: The amount of samples added to or
subtracted from boundaries.</p></li>
<li><p><code>"newSegmentName"</code> The value given to the default label if a
new SEGMENT is added (default is "" == empty string).</p></li>
<li><p><code>"newEventName"</code> The value given to the default label if a
new EVENT is added (default is "" == empty string).</p></li>
</ul></li>
<li><p><code>"restrictions"</code>:</p>
<ul>
<li><p><code>"playback"</code> A boolean value specifying whether to allow
audio playback.</p></li>
<li><p><code>"correctionTool"</code> A boolean value specifying whether
correction tools are available.</p></li>
<li><p><code>"editItemSize"</code> A boolean value specifying whether to allow
the size of a <code>SEGMENT</code> or <code>EVENT</code> to be changed (i.e., move
boundaries).</p></li>
<li><p><code>"editItemName"</code> A boolean value specifying whether to allow
the label of an <code>ITEM</code> to be changed.</p></li>
<li><p><code>"deleteItemBoundary"</code> A boolean value specifying whether to
allow the deletion of boundaries.</p></li>
<li><p><code>"deleteItem"</code> A boolean value specifying whether to allow
the deletion of entire <code>ITEM</code>s</p></li>
<li><p><code>"deleteLevel"</code> A boolean value specifying whether to allow
the deletion of entire levels.</p></li>
<li><p><code>"addItem"</code> A boolean value specifying whether to allow new
<code>ITEM</code>s to be added.</p></li>
<li><p><code>"drawCrossHairs"</code> A boolean value specifying whether to
draw the cross hairs on signal canvases.</p></li>
<li><p><code>"drawSampleNrs"</code> A boolean value specifying whether to draw
the sample numbers in the OSCI canvas if zoomed in close
enough to see samples (mainly for debugging and development
purposes).</p></li>
<li><p><code>"drawZeroLine"</code> A boolean value specifying whether to draw
the zero value line in OSCI canvas.</p></li>
<li><p><code>"bundleComments"</code> A boolean value specifying whether to
allow the annotator to add comments to bundles she or he has
annotated. A bundle comment field will show up in the bundle
list side bar for each bundle if this is set to true. Note
that the server has to support saving these comments, which
the <code>serve()</code> function of the <code>emuR</code> package does not.</p></li>
<li><p><code>"bundleFinishedEditing"</code> A boolean value specifying whether
to allow the annotator to mark when she or he has finished
annotating a bundle. A finished editing toggle button will
show up in the bundle list side bar for each bundle if this
is set to <code>true</code>. Note that the server has to support saving
these comments which the <code>serve()</code> function of the <code>emuR</code>
package does not.</p></li>
<li><p><code>"showPerspectivesSidebar"</code> A boolean value specifying
whether to show the perspectives side bar.</p></li>
</ul></li>
<li><p><code>"activeButtons"</code> Specifies which top- or bottom-menu buttons
should be displayed by the <code>EMU-webApp</code>.</p>
<ul>
<li><p><code>"addLevelSeg"</code> A boolean value specifying whether to show
the <code>add SEGMENT level</code> button in the top menu bar.</p></li>
<li><p><code>"addLevelEvent"</code> A boolean value specifying whether to show
the <code>add EVENT level button</code> in the top menu bar.</p></li>
<li><p><code>"renameSelLevel"</code> A boolean value specifying whether to
allow the user to rename the currently selected level.</p></li>
<li><p><code>"downloadTextGrid"</code> A boolean value specifying whether to
allow the user to download the current annotation as a
<code>.TextGrid</code> file by displaying a <code>download TextGrid</code> button
in the top menu bar.</p></li>
<li><p><code>"downloadAnnotation"</code> A boolean value specifying whether to
allow the user to download the current annotation as an
<code>_annot.json</code> file by displaying a <code>download annotJSON</code>
button in the top menu bar.</p></li>
<li><p><code>"specSettings"</code> A boolean value specifying whether to
display the <code>spec. settings</code> button in the top menu bar.</p></li>
<li><p><code>"connect"</code> A boolean value specifying whether to display
the <code>connect</code> button in the top menu bar.</p></li>
<li><p><code>"clear"</code> A boolean value specifying whether to display the
<code>clear</code> button in the top menu bar.</p></li>
<li><p><code>"deleteSingleLevel"</code> A boolean value specifying whether to
allow the user to delete a level containing time
information.</p></li>
<li><p><code>"resizeSingleLevel"</code> A boolean value specifying whether to
allow the user to resize a level.</p></li>
<li><p><code>"saveSingleLevel"</code> A boolean value specifying whether to
allow the user to download a single level in the ESPS/waves+
format.</p></li>
<li><p><code>"resizeSignalCanvas"</code> A boolean value specifying whether to
allow the user to resize the <code>signalCanvases</code> (<code>"OSCI"</code>,
<code>"SPEC"</code>, …).</p></li>
<li><p><code>"openDemoDB"</code> A boolean value specifying whether to show
the <code>open demoDB</code> button.</p></li>
<li><p><code>"saveBundle"</code> A boolean value specifying whether to show
the save button in bundle list side bar for each bundle.</p></li>
<li><p><code>"openMenu"</code> A boolean value specifying whether open bundle
list side bar button is displayed.</p></li>
<li><p><code>"showHierarchy"</code> A boolean value specifying whether to
display the <code>show hierarchy</code> button.</p></li>
</ul></li>
</ul></li>
<li><p><code>"demoDBs"</code> An array of strings specifying which demoDBs to display
in the <code>open demo</code> drop-down menu. Currently available demo
databases are <code>["ae", "ema", "epgdorsal"]</code>.</p></li>
</ul>
</div>
<div id="subsec:app-chapFileFormatsAnnotJSON" class="section level3">
<h3><span class="header-section-number">15.1.2</span> <code>_annot.json</code></h3>
<p>The <code>_annot.json</code> files contain the actual annotation information as
well as the hierarchical linking information. Legacy EMU users should
note that all the information that used to be split into several
ESPS/waves+ label files and a <code>.hlb</code> file is now contained in this
single file.</p>
<p>The <code>_annot.json</code> file contains the following fields:</p>
<ul>
<li><p><code>"name"</code> Specifies the name of the annotation file (has to be equal
to the bundle directory prefix as well as the <code>_annot.json</code> prefix).</p></li>
<li><p><code>"annotates"</code> Specifies the (relative) media file path that this
<code>_annot.json</code> file annotates.</p></li>
<li><p><code>"sampleRate"</code> Specifies the sample rate of the annotation (should
be the same as the sample rate of the file listed in <code>"annotates"</code>).</p></li>
<li><p><code>"levels"</code> Contains an array of level annotation informations. Each
element consists of:</p>
<ul>
<li><p><code>"name"</code> Specifies the name of the level.</p></li>
<li><p><code>"items"</code> An array containing the annotation items of the level.</p>
<ul>
<li><p><code>"id"</code> The unique ID of the item (only unique within an
<code>_annot.json</code> file or bundle, not globally for the <code>emuDB</code>).</p></li>
<li><p><code>"sampleStart"</code> Contains start sample value of <code>SEGMENT</code>
item.</p></li>
<li><p><code>"sampleDur"</code> Contains sample duration value of <code>SEGMENT</code>
item. Note that the <code>EMU-webApp</code> does not support
overlapping <code>SEGMENT</code>s or <code>SEGMENT</code> sequences containing
gaps. This implies that each sample is explicitly and
unambiguously associated with a single <code>SEGMENT</code>. This means
that the <code>sampleStart</code> value of a following <code>SEGMENT</code> has to
be <code>sampleStart</code> + <code>sampleDur</code> + 1 of the previous
<code>SEGMENT</code>. When converting the sample values to time values,
the <code>start</code> time value is calculated with the formula
<span class="math inline">\(start = \frac{sampleStart}{sampleRate} - \frac{0.5}{sampleRate}\)</span>
and the <code>end</code> time value with the formula
<span class="math inline">\(end = \frac{sampleStart + sampleDur}{sampleRate} + \frac{0.5}{ sampleRate}\)</span>.
This is done to have gapless time values for successive
<code>SEGMENT</code>s. To avoid a negative time value when dealing with
the first sample of an audio file (<code>sampleStart</code> value of
<span class="math inline">\(0\)</span>), the <code>start</code> time value is simply set to <span class="math inline">\(0\)</span> in this
case. One implication of this design is that there can be no zero-length
segments. If for example a <code>SEGMENT</code> has sampleStart: 1420 and
sampleDur: 0, it will be considered to start at the
start time of sample <span class="math inline">\(1420 - \frac{0.5}{sampleRate}\)</span> and end at
the end time of sample <span class="math inline">\(1420 + \frac{0.5}{sampleRate}\)</span>. The actual
duration in seconds is therefore expressed as <span class="math inline">\(\frac{sampleDur + 1}{sampleRate}\)</span>.
The <code>start</code> and <code>end</code> time value calculation is
performed by both the query engine of <code>emuR</code> if the
<code>calcTimes</code> parameter is set to <code>TRUE</code> and the <code>EMU-webApp</code>
to display the time information in the signal canvases.</p></li>
<li><p><code>"samplePoint"</code> Contains sample point values of <code>EVENT</code>
items. When calculating the <code>start</code> time values for <code>EVENT</code>s
the following formula is used:
<span class="math inline">\(start = \frac{samplePoint}{sampleRate}\)</span></p></li>
<li><p><code>"labels"</code> An array containing labels that belong to this
item. Each element consists of:</p>
<ul>
<li><p><code>"name"</code> Specifies the <code>attributeDefinition</code> that this
label is for.</p></li>
<li><p><code>"value"</code> Specifies the label value.</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><code>"links"</code> An array containing links between two items. These links have to adhere to the links specified in <code>linkDefinitions</code> of the corresponding <code>emuDB</code>. Each link consists of:</p>
<ul>
<li><p><code>"fromID"</code> The ID value of the item to link from (i.e., item in super-level).</p></li>
<li><p><code>"toID"</code> The ID value of item to link to (i.e., item in sub-level).</p></li>
</ul></li>
</ul>
</div>
<div id="subsec:app-chapFileFormatsSSFF" class="section level3">
<h3><span class="header-section-number">15.1.3</span> The SSFF file format</h3>
<p>The SSFF file format is a binary file format which has a plain text header. This means that the header is human-readable and can be viewed with any text editor including common UNIX command line tools such as <code>less</code> or <code>cat</code>. Within R it is possible to view the header by using R’s <code>readLines()</code> function as displayed in the R code snippet below.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="15-1-file-descriptions.html#cb290-1"></a><span class="co"># load the emuR and wrassp packages</span></span>
<span id="cb290-2"><a href="15-1-file-descriptions.html#cb290-2"></a><span class="kw">library</span>(emuR, <span class="dt">warn.conflicts =</span> <span class="ot">FALSE</span>)</span>
<span id="cb290-3"><a href="15-1-file-descriptions.html#cb290-3"></a><span class="kw">library</span>(wrassp)</span></code></pre></div>
<pre><code>## Loading required package: tibble</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="15-1-file-descriptions.html#cb292-1"></a><span class="co"># create demo data in directory </span></span>
<span id="cb292-2"><a href="15-1-file-descriptions.html#cb292-2"></a><span class="co"># provided by tempdir()</span></span>
<span id="cb292-3"><a href="15-1-file-descriptions.html#cb292-3"></a><span class="kw">create_emuRdemoData</span>(<span class="dt">dir =</span> <span class="kw">tempdir</span>())</span>
<span id="cb292-4"><a href="15-1-file-descriptions.html#cb292-4"></a></span>
<span id="cb292-5"><a href="15-1-file-descriptions.html#cb292-5"></a><span class="co"># create path to demo database</span></span>
<span id="cb292-6"><a href="15-1-file-descriptions.html#cb292-6"></a>path2ae =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;emuR_demoData&quot;</span>, <span class="st">&quot;ae_emuDB&quot;</span>)</span>
<span id="cb292-7"><a href="15-1-file-descriptions.html#cb292-7"></a></span>
<span id="cb292-8"><a href="15-1-file-descriptions.html#cb292-8"></a><span class="co"># create path to bundle in database</span></span>
<span id="cb292-9"><a href="15-1-file-descriptions.html#cb292-9"></a>path2bndl =<span class="st"> </span><span class="kw">file.path</span>(path2ae, <span class="st">&quot;0000_ses&quot;</span>, <span class="st">&quot;msajc003_bndl&quot;</span>)</span>
<span id="cb292-10"><a href="15-1-file-descriptions.html#cb292-10"></a></span>
<span id="cb292-11"><a href="15-1-file-descriptions.html#cb292-11"></a><span class="co"># create path to .fms file </span></span>
<span id="cb292-12"><a href="15-1-file-descriptions.html#cb292-12"></a>path2fmsFile =<span class="st"> </span><span class="kw">file.path</span>(path2bndl, </span>
<span id="cb292-13"><a href="15-1-file-descriptions.html#cb292-13"></a>                        <span class="kw">paste0</span>(<span class="st">&quot;msajc003.&quot;</span>, </span>
<span id="cb292-14"><a href="15-1-file-descriptions.html#cb292-14"></a>                               wrasspOutputInfos<span class="op">$</span>forest<span class="op">$</span>ext))</span>
<span id="cb292-15"><a href="15-1-file-descriptions.html#cb292-15"></a></span>
<span id="cb292-16"><a href="15-1-file-descriptions.html#cb292-16"></a><span class="co"># read in first 8 lines of .fms file.</span></span>
<span id="cb292-17"><a href="15-1-file-descriptions.html#cb292-17"></a><span class="co"># Note that the header length may vary in other SSFF files.</span></span>
<span id="cb292-18"><a href="15-1-file-descriptions.html#cb292-18"></a><span class="kw">readLines</span>(path2fmsFile, <span class="dt">n =</span> <span class="dv">8</span>)</span></code></pre></div>
<pre><code>## [1] &quot;SSFF -- (c) SHLRC&quot;            &quot;Machine IBM-PC&quot;              
## [3] &quot;Record_Freq 200.0&quot;            &quot;Start_Time 0.0025&quot;           
## [5] &quot;Column fm SHORT 4&quot;            &quot;Column bw SHORT 4&quot;           
## [7] &quot;Original_Freq DOUBLE 20000.0&quot; &quot;-----------------&quot;</code></pre>
<p>The general line item structure of the plain text head of an SSFF file can be described as follows:</p>
<ul>
<li><p><code>SSFF – (c) SHLRC</code> (required line): File type marker.</p></li>
<li><p><code>Machine IBM-PC</code> (required line): System architecture of the machine that generated the file. This is mainly used to specify the endianness of the data block (see below). <code>Machine IBM-PC</code> indicates little-endian and <code>Machine SPARC</code> indicates big-endian. To date, we have not encountered other machine types.</p></li>
<li><p><code>Record_Freq SR</code> (required line): Sample rate of current file in Hz. If, for example, <code>SR</code> is 200.0 (see the above R code snippet) then the sample rate is 200 Hz.</p></li>
<li><p><code>Start_Time ST</code> (required line): Time of first sample block in data block in seconds. This often deviates from 0.0 as <code>wrassp</code>’s windowed signal processing functions start with the first window centered around <code>windowShift</code> / 2. If the <code>windowShift</code> parameter’s default value is 5 ms, the start time <code>ST</code> of the first sample block will be 0.0025 sec (see above R code snippet).</p></li>
<li><p><code>Column CN CDT CDL</code> (required line(s)): A <code>Column</code> line entry contains four space-separated values, where <code>Column</code> is the initial key word value. The second value, <code>CN</code> (<code>fm</code> in above R code snippet), specifies the name for the column; the third, <code>CDT</code> (<code>SHORT</code> in the above R code snippet), indicates the column’s data type; and the fourth, <code>CDL</code> (<code>4</code> in the above R code snippet), is the column’s data length in bytes. As can be seen in the R code snippet above, it is quite common for SSFF files to have multiple column entries. The sequence of these entries is relevant, as it specifies the sequence of the data in the binary data block (see below).</p></li>
<li><p><code>NAME DT DV</code> (optional line(s)): Optional single value definitions that have a <code>NAME</code>, a data type <code>DT</code> and a data value <code>DV</code> (see <code>Original_Freq DOUBLE 20000.0</code> in the R code snippet above specifying the original sample rate of the audio file the <code>.fms</code> file was generated from).</p></li>
<li><p><code>Comment CHAR string of variable length</code> (optional line(s)): The <code>Comment CHAR</code> allows for comment strings to be added to the header.</p></li>
<li><p><code>—————–</code> (required line): marks the end of the plain text header.</p></li>
</ul>
<p>The binary data block of the SSFF file format stores its data in a so-called interleaved fashion. This means it does not store the binary data belonging to every column in a separate data block. Rather, it interleaves the columns to form sample blocks that occur at the same point in time. Figure <a href="15-1-file-descriptions.html#fig:wrassp-ssffDataBlock">15.1</a> displays a sequence of short integer values where the subscript text indicates the index in the sequence. This sequence represents a schematic representation of the data block of the <code>.fms</code> file of R Example <a href="15-1-file-descriptions.html#fig:wrassp-ssffDataBlock">15.1</a>. The first four <span style="color: three_color_c1"><code>INT16</code><sub><code>1-4</code></sub></span> (green) blocks represent the first four <code>INT16</code> formant values that belong to the <code>fm</code> column and the next four <span style="color: three_color_c2"><code>INT16</code><sub><code>5-8</code></sub></span> (orange) represent the first four bandwidth values belonging to the <code>bm</code> column. Therefore, the dashed square marks the first sample block (i.e., the first eight F1, F2, F3 and F4; and F1<sub>bandwidth</sub>, F2<sub>bandwidth</sub>, F3<sub>bandwidth</sub> and F4<sub>bandwidth</sub> values) that occur at the time specified by the <code>Start_Time 0.0025</code> header entry. The time of all subsequent sample blocks of eight <code>INT16</code> values (e.g., <code>INT16</code><sub><code>9-16</code></sub>) can be calculated as follows:
<code>0.0025 (== Start_Time) + 1 / 200.0 (== Record_Freq) * sample block index</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:wrassp-ssffDataBlock"></span>
<img src="pics/ssffDataBlock.png" alt="Schematic representation of the data block of the `msajc003.fms` file of the above R code snippet." width="100%" />
<p class="caption">
Figure 15.1: Schematic representation of the data block of the <code>msajc003.fms</code> file of the above R code snippet.
</p>
</div>
</div>
</div>
<p style="text-align: center;">
<a href="15-app-chap-fileFormats.html"><button class="btn btn-default">Previous</button></a>
<a href="https://github.com/IPS-LMU/The-EMU-SDMS-Manual/edit/master/app_chap-fileFormats.Rmd"><button class="btn btn-default">Edit</button></a>
<a href="15-2-example-files.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
